<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="true"><meta name="msvalidate.01" content="true"><meta name="baidu-site-verification" content="true"><link rel="alternate" type="application/rss+xml" title="forget-me-not" href="https://maikire.xyz/rss.xml"><link rel="alternate" type="application/atom+xml" title="forget-me-not" href="https://maikire.xyz/atom.xml"><link rel="alternate" type="application/json" title="forget-me-not" href="https://maikire.xyz/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="CSharp"><link rel="canonical" href="https://maikire.xyz/2023/07/30/CSharp/CSharpBasics/CSharp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><title>CSharp 网络编程 - CSharpBasics - CSharp | Starry Letter = forget-me-not</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">CSharp 网络编程</h1><div class="meta"><span class="item" title="创建时间：2023-07-30 15:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-07-30T15:00:00+08:00">2023-07-30</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>4.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>4 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Starry Letter</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://www.z4a.net/images/2024/10/14/cg20.jpg"></li><li class="item" data-background-image="https://www.z4a.net/images/2024/10/14/2022-03-13-231115.jpg"></li><li class="item" data-background-image="https://www.z4a.net/images/2024/10/14/IMG_0712.jpg"></li><li class="item" data-background-image="https://www.z4a.net/images/2024/10/14/53d5091399b21c01f9d7127d5b928b3.jpg"></li><li class="item" data-background-image="https://www.z4a.net/images/2024/10/14/0072Vf1pgy1foxkfrmrlgj31hc0u0wt1.jpg"></li><li class="item" data-background-image="https://www.z4a.net/images/2024/10/14/222744.jpg"></li></ul></div><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div></header><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/CSharp/" itemprop="item" rel="index" title="分类于 CSharp"><span itemprop="name">CSharp</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/CSharp/CSharpBasics/" itemprop="item" rel="index" title="分类于 CSharpBasics"><span itemprop="name">CSharpBasics</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://maikire.xyz/2023/07/30/CSharp/CSharpBasics/CSharp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Maikire"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="forget-me-not"></span><div class="body md" itemprop="articleBody"><h1 id="socket"><a class="anchor" href="#socket">#</a> Socket</h1><p>Socket（计算机术语为：套接字）是计算机网络编程中的一种通信机制，使网络上的两个程序通过一个双向的通信连接实现数据的交换。它是一个抽象层，提供了一套标准的接口，使得应用程序可以通过这套接口与网络通信协议进行交互，实现数据传输和共享。</p><p>在网络编程中，Socket 通常被用来实现客户端和服务端之间的通信。客户端通过 Socket 连接到服务端，并向服务端发送数据请求，服务端接收请求并处理后，再将结果返回给客户端。这种通信方式可以用于实现各种不同类型的网络应用程序，如 Web 服务器、聊天软件、在线游戏等。</p><p>Socket 有三个重要参数：IP、端口、协议。这三个概念共同构成了网络通信的基础。</p><h1 id="ipinternet-protocol"><a class="anchor" href="#ipinternet-protocol">#</a> IP（Internet Protocol）</h1><p>IP 协议位于 TCP/IP 协议的第三层 —— 网络层，IP 是一种网络协议，用于在互联网上寻址和路由数据包。每台计算机在网络上都分配有一个唯一的 IP 地址，类似于一个邮政地址，用于标识计算机在网络上的位置。IP 地址由四个十进制数（例如：192.168.0.1）组成，每个数的取值范围是 0 到 255。IPv4 是目前使用最广泛的 IP 版本，而 IPv6 则是一种更新的 IP 协议版本。</p><h1 id="端口port"><a class="anchor" href="#端口port">#</a> 端口（Port）</h1><p>端口是计算机上用于数据通信的逻辑连接点，端口号用于标识计算机上具体的应用程序或服务。一个端口可以看作是计算机中的门，通过这个门可以发送和接收数据。端口号是一个 16 位的数字，可以是 0 到 65535 之间的任意值。其中，0 到 1023 的端口号被称为 &quot;知名端口&quot;，用于一些特殊的网络服务，例如 80 端口用于 HTTP 协议，22 端口用于 SSH 协议等。而大于 1023 的端口号则被称为 &quot;动态端口&quot;，用于临时的网络连接。</p><h1 id="协议protocol"><a class="anchor" href="#协议protocol">#</a> 协议（Protocol）</h1><p>协议是在网络中进行通信的规则和约定。不同的协议定义了数据的格式、传输方式、错误处理等各个方面的规定。常见的网络协议有 TCP（Transmission Control Protocol）和 UDP（User Datagram Protocol）。TCP 协议提供可靠的、面向连接的通信，适用于需要确保数据完整性和顺序的场景，例如网页浏览、文件传输等。而 UDP 协议则是一种不可靠的、无连接的通信，适用于对实时性有较高需求的场景，例如音频和视频传输。</p><h1 id="udp"><a class="anchor" href="#udp">#</a> UDP</h1><ul><li>UDP 缺乏可靠性。UDP 本身不提供确认，序列号，超时重传等机制。UDP 数据报可能在网络中被复制，被重新排序。即 UDP 不保证数据报会到达其最终目的地，也不保证各个数据报的先后顺序，也不保证每个数据报只到达一次</li><li>UDP 数据报是有长度的。每个 UDP 数据报都有长度，如果一个数据报正确地到达目的地，那么该数据报的长度将随数据一起传递给接收方。而 TCP 是一个字节流协议，没有任何（协议上的）记录边界</li><li>UDP 是无连接的 UDP 客户和服务器之前不必存在长期的关系。UDP 发送数据报之前也不需要经过握手创建连接的过程</li><li>UDP 支持多播和广播。</li></ul><h1 id="tcp"><a class="anchor" href="#tcp">#</a> TCP</h1><ul><li>TCP 提供一种面向连接的、可靠的字节流服务</li><li>在一个 TCP 连接中，仅有两方进行彼此通信。广播和多播不能用于 TCP</li><li>TCP 使用校验和，确认和重传机制来保证可靠传输</li><li>TCP 给数据分节进行排序，并使用累积确认保证数据的顺序不变和非重复</li><li>TCP 使用滑动窗口机制来实现流量控制，通过动态改变窗口的大小进行拥塞控制</li></ul><p>注意：TCP 并不能保证数据一定会被对方接收到，因为这是不可能的。TCP 能够做到的是，如果有可能，就把数据递送到接收方，否则就（通过放弃重传并且中断连接这一手段）通知用户。因此，准确说 TCP 也不是 100% 可靠的协议，它所能提供的是数据的可靠递送或故障的可靠通知。</p><h2 id="三次握手"><a class="anchor" href="#三次握手">#</a> 三次握手</h2><p>所谓三次握手 (Three-way Handshake)，是指建立一个 TCP 连接时，需要客户端和服务器总共发送 3 个包。</p><p>三次握手的目的是连接服务器指定端口，建立 TCP 连接，并同步连接双方的序列号和确认号，交换 TCP 窗口大小信息。在 socket 编程中，客户端执行 connect () 时，将触发三次握手。</p><p><img data-src="ThreeHandshake.png" alt="img"></p><h2 id="四次挥手"><a class="anchor" href="#四次挥手">#</a> 四次挥手</h2><p>TCP 的连接的拆除需要发送四个包，因此称为四次挥手 (Four-way handshake)，也叫做改进的三次握手。客户端或服务器均可主动发起挥手动作，在 socket 编程中，任何一方执行 close () 操作即可产生挥手操作。</p><p><img data-src="FourHandshake.png" alt="img"></p><h2 id="tcp连接"><a class="anchor" href="#tcp连接">#</a> TCP 连接</h2><p>TCP 协议中，客户端绑定端口后，先断开连接然后再次连接会报错，因为同一端口在短时间内（30 秒到 4 分钟之内）只能使用一次。因为客户端需要等待服务端的回复，如果超时，则断开连接。总而言之：先断开的一方，会延迟释放端口。</p><p><span class="label info">解决方法：</span></p><ol><li>客户端每次连接使用不同的端口（这是大部分游戏的选择）。缺点：部分需求不允许更换端口。</li><li>让服务端先断开连接（让服务端先发送断开连接的请求）。缺点：端口越多，服务器压力越大。<br>原因：根据四次挥手的流程，先发送断开连接请求的会在最后断开连接。所以，让服务端先发送断开连接的请求，客户端先同意断开然后断开，因为已经断开了，所以可以再次连接。对于服务端，虽然没有立刻断开连接，但是服务端是接收连接请求的，如果客户端在断开后的短时间内再次发送连接请求，二者仍然可以正常连接。</li></ol><h2 id="流模式"><a class="anchor" href="#流模式">#</a> 流模式</h2><p>TCP 的字节流模式指的是 TCP 将应用层交给它的数据视为无结构的字节流进行传输，不考虑这些数据在应用层的含义和分段情况。这意味着，发送方将应用层数据切分为多个数据段进行发送，在传输过程中，这些数据段可能会被拆分、合并，但最终到达接收方时，TCP 会重新组合这些数据段，保证数据的完整性和顺序。由于建立了连接，收到的数据都是同一主机发送的，所以可以让发送端 Write 一次，接收端 Read 多次，或者反过来</p><h1 id="csharp中用于实现网络通信的类"><a class="anchor" href="#csharp中用于实现网络通信的类">#</a> CSharp 中用于实现网络通信的类</h1><p>Socket 类、UdpClient 类和 TcpClient 类都是 CSharp 中用于实现网络通信的类。其中，Socket 类是最基础的网络通信类，提供了最底层、最灵活的网络通信接口。</p><p>如果需要更多的自由度和灵活性，那么 Socket 类可能更适合你的需求。在使用 Socket 类时，你需要更多地了解网络编程的底层知识、细节和原理，因为 Socket 类需要手动管理更多的网络细节（例如设置 Socket 选项、操作缓冲区等）。</p><p>UdpClient 类和 TcpClient 类则是基于 Socket 类封装的更高层次的网络通信类，提供了更方便和易用的接口。<br>UdpClient 类主要用于实现基于 UDP 协议的网络通信，提供了 Send 和 Receive 等方法。<br>TcpClient 类主要用于实现基于 TCP 协议的网络通信，提供了 Connect、GetStream 和 Read 等方法。</p><h2 id="udpclient和tcpclient的使用"><a class="anchor" href="#udpclient和tcpclient的使用">#</a> UdpClient 和 TcpClient 的使用</h2><p><img data-src="UDPAndTCP.png" alt="img"></p><p><span class="label info">获取自身的 IP 地址</span></p><figure class="highlight csharp"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/// &lt;summary></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/// 获取自身的 IP 地址</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">/// &lt;/summary></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">/// &lt;returns>&lt;/returns></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetLocalIPAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token class-name"><span class="token keyword">string</span></span> ipAddress <span class="token operator">=</span> <span class="token string">"0.0.0.0"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token class-name">IPHostEntry</span> host <span class="token operator">=</span> Dns<span class="token punctuation">.</span><span class="token function">GetHostEntry</span><span class="token punctuation">(</span>Dns<span class="token punctuation">.</span><span class="token function">GetHostName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">IPAddress</span> ip <span class="token keyword">in</span> host<span class="token punctuation">.</span>AddressList<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ip<span class="token punctuation">.</span>AddressFamily <span class="token operator">==</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>Sockets<span class="token punctuation">.</span>AddressFamily<span class="token punctuation">.</span>InterNetwork<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>            ipAddress <span class="token operator">=</span> ip<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>            <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">return</span> ipAddress<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><span class="label info">UdpClient</span></p><figure class="highlight csharp"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 终结点，包含 IP 地址和端口</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 自身的终结点</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">IPEndPoint</span> IP_my <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IPEndPoint</span><span class="token punctuation">(</span>IPAddress<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4444</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 目标终结点</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name">IPEndPoint</span> IP_target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IPEndPoint</span><span class="token punctuation">(</span>IPAddress<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5555</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 发送端</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token class-name">UdpClient</span> udpClient_my <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UdpClient</span><span class="token punctuation">(</span>IP_my<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 编码</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> bytes_my <span class="token operator">=</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 发送数据</span></pre></td></tr><tr><td data-num="18"></td><td><pre>udpClient_my<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>bytes_my<span class="token punctuation">,</span> bytes_my<span class="token punctuation">.</span>Length<span class="token punctuation">,</span> IP_target<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">// 接收端</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token class-name">UdpClient</span> udpClient_target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">UdpClient</span><span class="token punctuation">(</span>IP_target<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// 任意 IP 地址，任意端口</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token class-name">IPEndPoint</span> endpoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IPEndPoint</span><span class="token punctuation">(</span>IPAddress<span class="token punctuation">.</span>Any<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 接收消息</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 收到消息前，参数表示：需要接收（监听）的终结点</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment">// 收到消息以后，参数表示：实际的终结点</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 在接收到消息前：阻塞线程</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">// 接收到消息后：继续执行</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 所以，必须通过辅助线程调用</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> bytes_target <span class="token operator">=</span> udpClient_target<span class="token punctuation">.</span><span class="token function">Receive</span><span class="token punctuation">(</span><span class="token keyword">ref</span> endpoint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">// 解码</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token class-name"><span class="token keyword">string</span></span> message <span class="token operator">=</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span>bytes_target<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token comment">// 手动释放资源</span></pre></td></tr><tr><td data-num="44"></td><td><pre>udpClient_my<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>udpClient_target<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><span class="label info">TcpClient</span></p><figure class="highlight csharp"><figcaption data-lang="C#"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 自身的终结点</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">IPEndPoint</span> IP_my <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IPEndPoint</span><span class="token punctuation">(</span>IPAddress<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4444</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 目标终结点</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token class-name">IPEndPoint</span> IP_target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IPEndPoint</span><span class="token punctuation">(</span>IPAddress<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token string">"0.0.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5555</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 绑定指定的端口</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//TcpClient tcpClient_my = new TcpClient(IP_my);</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 使用随机端口</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token class-name">TcpClient</span> tcpClient_my <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TcpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// 建立链接</span></pre></td></tr><tr><td data-num="17"></td><td><pre>tcpClient_my<span class="token punctuation">.</span><span class="token function">Connect</span><span class="token punctuation">(</span>IP_target<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 获取流</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token class-name">NetworkStream</span> stream_my <span class="token operator">=</span> tcpClient_my<span class="token punctuation">.</span><span class="token function">GetStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 编码</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> bytes_my <span class="token operator">=</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 写入数据</span></pre></td></tr><tr><td data-num="26"></td><td><pre>stream_my<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>bytes_my<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token comment">// 监听器</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token class-name">TcpListener</span> listener_target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TcpListener</span><span class="token punctuation">(</span>IP_target<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 接收端</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token class-name">TcpClient</span> tcpClient_target<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">// 流</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token class-name">NetworkStream</span> stream_target<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment">// 存储字节数据</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> bytes_target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">byte</span></span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token comment">// 有效字符数</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token class-name"><span class="token keyword">int</span></span> count<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">// 在监听到客户端链接前：阻塞线程</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token comment">// 在监听到客户端链接后：继续执行</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token comment">// 所以，必须通过辅助线程调用</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token keyword">using</span> <span class="token punctuation">(</span>tcpClient_target <span class="token operator">=</span> listener_target<span class="token punctuation">.</span><span class="token function">AcceptTcpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token keyword">using</span> <span class="token punctuation">(</span>stream_target <span class="token operator">=</span> tcpClient_target<span class="token punctuation">.</span><span class="token function">GetStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="54"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>            <span class="token comment">// 在读取到数据前：阻塞线程</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token comment">// 在读取到数据后：继续执行</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token comment">// 如果需要监听多个客户端链接，则需要开启线程</span></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token comment">// 返回值：实际读取到的字节数</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            count <span class="token operator">=</span> stream_target<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>bytes_target<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token comment">// 解码，只解析有效字符</span></pre></td></tr><tr><td data-num="62"></td><td><pre>            <span class="token class-name"><span class="token keyword">string</span></span> message <span class="token operator">=</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span>bytes_target<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="66"></td><td><pre></pre></td></tr><tr><td data-num="67"></td><td><pre></pre></td></tr><tr><td data-num="68"></td><td><pre></pre></td></tr><tr><td data-num="69"></td><td><pre></pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token comment">// 手动释放资源</span></pre></td></tr><tr><td data-num="71"></td><td><pre>stream_my<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>tcpClient_my<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>listener_target<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h1 id="网络通信的例子"><a class="anchor" href="#网络通信的例子">#</a> 网络通信的例子</h1><p><a href="https://maikire.xyz/2023/06/13/Unity/UnityGames/Unity2DGames/%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%BD%91%E7%BB%9C%E8%81%8A%E5%A4%A9%E5%AE%A4/index.html?_sw-precache=f578ca9a7e82788f2cc7233db125d73c">网络聊天室</a>是一个很好的例子</p><div class="tags"><a href="/tags/CSharp/" rel="tag"><i class="ic i-tag"></i> CSharp</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-07-30 19:26:14" itemprop="dateModified" datetime="2023-07-30T19:26:14+08:00">2023-07-30</time> </span><span id="2023/07/30/CSharp/CSharpBasics/CSharp网络编程/" class="item leancloud_visitors" data-flag-title="CSharp 网络编程" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Maikire 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Maikire 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Maikire 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Maikire <i class="ic i-at"><em>@</em></i>forget-me-not</li><li class="link"><strong>本文链接：</strong> <a href="https://maikire.xyz/2023/07/30/CSharp/CSharpBasics/CSharp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" title="CSharp 网络编程">https://maikire.xyz/2023/07/30/CSharp/CSharpBasics/CSharp网络编程/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/07/30/DesignPatterns/%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2024&#x2F;10&#x2F;14&#x2F;88b39e07ea05c813c7918412dc6686ad8506bf8e_raw.jpg" title="中介者模式"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> DesignPatterns</span><h3>中介者模式</h3></a></div><div class="item right"><a href="/2023/07/30/CSharp/CSharpBasics/CSharp%E5%A4%9A%E7%BA%BF%E7%A8%8B/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;www.z4a.net&#x2F;images&#x2F;2024&#x2F;10&#x2F;14&#x2F;2550d2342d004c24b6b4fa7249f8abb.jpg" title="CSharp多线程"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> CSharpBasics</span><h3>CSharp多线程</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#socket"><span class="toc-number">1.</span> <span class="toc-text">Socket</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ipinternet-protocol"><span class="toc-number">2.</span> <span class="toc-text">IP（Internet Protocol）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3port"><span class="toc-number">3.</span> <span class="toc-text">端口（Port）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AEprotocol"><span class="toc-number">4.</span> <span class="toc-text">协议（Protocol）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#udp"><span class="toc-number">5.</span> <span class="toc-text">UDP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tcp"><span class="toc-number">6.</span> <span class="toc-text">TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-number">6.1.</span> <span class="toc-text">三次握手</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">6.2.</span> <span class="toc-text">四次挥手</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tcp%E8%BF%9E%E6%8E%A5"><span class="toc-number">6.3.</span> <span class="toc-text">TCP 连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.4.</span> <span class="toc-text">流模式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#csharp%E4%B8%AD%E7%94%A8%E4%BA%8E%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E7%9A%84%E7%B1%BB"><span class="toc-number">7.</span> <span class="toc-text">CSharp 中用于实现网络通信的类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#udpclient%E5%92%8Ctcpclient%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">7.1.</span> <span class="toc-text">UdpClient 和 TcpClient 的使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="toc-number">8.</span> <span class="toc-text">网络通信的例子</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2023/03/28/CSharp/CSharpBasics/%E5%8F%8D%E5%B0%84%EF%BC%88Reflection%EF%BC%89/" rel="bookmark" title="反射（Reflection）">反射（Reflection）</a></li><li><a href="/2023/03/28/CSharp/CSharpBasics/%E5%A7%94%E6%89%98%EF%BC%88Delegate%EF%BC%89/" rel="bookmark" title="委托（Delegate）">委托（Delegate）</a></li><li><a href="/2023/03/28/CSharp/CSharpBasics/%E4%BA%8B%E4%BB%B6%EF%BC%88Event%EF%BC%89/" rel="bookmark" title="事件（Event）">事件（Event）</a></li><li><a href="/2023/03/28/CSharp/CSharpBasics/%E6%9E%9A%E4%B8%BE%E5%99%A8%EF%BC%88Enumerator%EF%BC%89/" rel="bookmark" title="枚举器（Enumerator）">枚举器（Enumerator）</a></li><li><a href="/2023/06/24/CSharp/CSharpBasics/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%88Exception%EF%BC%89/" rel="bookmark" title="异常处理（Exception）">异常处理（Exception）</a></li><li><a href="/2023/06/24/CSharp/CSharpBasics/%E7%89%B9%E6%80%A7%EF%BC%88Attribute%EF%BC%89/" rel="bookmark" title="特性（Attribute）">特性（Attribute）</a></li><li><a href="/2023/07/30/CSharp/CSharpBasics/CSharp%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="bookmark" title="CSharp多线程">CSharp多线程</a></li><li class="active"><a href="/2023/07/30/CSharp/CSharpBasics/CSharp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" rel="bookmark" title="CSharp网络编程">CSharp网络编程</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Maikire" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Maikire</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">73</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">19</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">14</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL21haWtpcmU=" title="https:&#x2F;&#x2F;github.com&#x2F;maikire"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTQyNTE2MzE4MA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;425163180"><i class="ic i-cloud-music"></i></span> <span class="exturl item bilibili" data-url="aHR0cHM6Ly9zcGFjZS5iaWxpYmlsaS5jb20vMzgxNDY5ODQ5P3NwbV9pZF9mcm9tPTMzMy4xMDA3LjAuMA==" title="https:&#x2F;&#x2F;space.bilibili.com&#x2F;381469849?spm_id_from&#x3D;333.1007.0.0"><i class="ic i-bilibili"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmwyNTQxNzU4OTg5QGdtYWlsLmNvbQ==" title="mailto:l2541758989@gmail.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/games" rel="section"><i class="ic i-play"></i>游戏</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/07/30/DesignPatterns/%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/07/30/CSharp/CSharpBasics/CSharp%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/DesignPatterns/" title="分类于 DesignPatterns">DesignPatterns</a></div><span><a href="/2023/03/20/DesignPatterns/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="设计模式">设计模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" title="分类于 计算机基础">计算机基础</a></div><span><a href="/2024/10/01/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="数据结构">数据结构</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/DesignPatterns/" title="分类于 DesignPatterns">DesignPatterns</a></div><span><a href="/2023/07/22/DesignPatterns/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/" title="建造者模式">建造者模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity/" title="分类于 Unity">Unity</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity/UnityBasics/" title="分类于 UnityBasics">UnityBasics</a></div><span><a href="/2023/10/25/Unity/UnityBasics/%E7%BE%A4%E8%90%BD%E7%AE%97%E6%B3%95/" title="群落算法">群落算法</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity/" title="分类于 Unity">Unity</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity/UnityBasics/" title="分类于 UnityBasics">UnityBasics</a></div><span><a href="/2023/03/28/Unity/UnityBasics/%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8F%EF%BC%88Coroutine%EF%BC%89/" title="协同程序（Coroutine）">协同程序（Coroutine）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/DesignPatterns/" title="分类于 DesignPatterns">DesignPatterns</a></div><span><a href="/2023/07/21/DesignPatterns/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/" title="外观模式">外观模式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity/" title="分类于 Unity">Unity</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity/UnityGames/" title="分类于 UnityGames">UnityGames</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity/UnityGames/Unity2DGames/" title="分类于 Unity2DGames">Unity2DGames</a></div><span><a href="/2023/01/13/Unity/UnityGames/Unity2DGames/%E5%88%B6%E4%BD%9C2D%E5%B0%8F%E6%B8%B8%E6%88%8F02%E2%80%94%E2%80%94%E9%98%B2%E5%8D%AB%E5%9F%8E%E5%A0%A1/" title="制作2D小游戏02——防卫城堡">制作2D小游戏02——防卫城堡</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity/" title="分类于 Unity">Unity</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity/UnityBasics/" title="分类于 UnityBasics">UnityBasics</a></div><span><a href="/2023/07/21/Unity/UnityBasics/meta%E6%96%87%E4%BB%B6/" title=".meta文件">.meta文件</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Unity/" title="分类于 Unity">Unity</a> <i class="ic i-angle-right"></i> <a href="/categories/Unity/UnityBasics/" title="分类于 UnityBasics">UnityBasics</a></div><span><a href="/2023/06/16/Unity/UnityBasics/UnityUI%E6%B7%A1%E5%85%A5%E6%B7%A1%E5%87%BA/" title="UnityUI淡入淡出">UnityUI淡入淡出</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/CSharp/" title="分类于 CSharp">CSharp</a> <i class="ic i-angle-right"></i> <a href="/categories/CSharp/CSharpBasics/" title="分类于 CSharpBasics">CSharpBasics</a></div><span><a href="/2023/07/30/CSharp/CSharpBasics/CSharp%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="CSharp多线程">CSharp多线程</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2023 – <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Maikire @ Starry Letter</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/07/30/CSharp/CSharpBasics/CSharp网络编程/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="//fastly.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>